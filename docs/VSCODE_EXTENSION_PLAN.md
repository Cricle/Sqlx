# Sqlx Visual Studio æ’ä»¶å¢å¼ºè®¡åˆ’

> **ç‰ˆæœ¬**: 0.4.0  
> **ç›®æ ‡**: æå¤§æå‡å¼€å‘è€…ä½“éªŒï¼Œç®€åŒ– Sqlx ä½¿ç”¨éš¾åº¦  
> **æœ€åæ›´æ–°**: 2025-10-29

---

## ğŸ“‹ ç›®å½•

1. [å½“å‰çŠ¶æ€](#å½“å‰çŠ¶æ€)
2. [æ ¸å¿ƒç›®æ ‡](#æ ¸å¿ƒç›®æ ‡)
3. [åŠŸèƒ½è§„åˆ’](#åŠŸèƒ½è§„åˆ’)
4. [å®ç°ä¼˜å…ˆçº§](#å®ç°ä¼˜å…ˆçº§)
5. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
6. [å¼€å‘è®¡åˆ’](#å¼€å‘è®¡åˆ’)
7. [ç”¨æˆ·ä½“éªŒè®¾è®¡](#ç”¨æˆ·ä½“éªŒè®¾è®¡)

---

## å½“å‰çŠ¶æ€

### ç°æœ‰å†…å®¹
- âœ… åŸºç¡€ VS æ’ä»¶é¡¹ç›®ç»“æ„
- âœ… Package æ³¨å†Œå’Œåˆå§‹åŒ–
- âŒ æ²¡æœ‰ä»»ä½•å®é™…åŠŸèƒ½

### ç—›ç‚¹åˆ†æ
ç”¨æˆ·åœ¨ä½¿ç”¨ Sqlx æ—¶é‡åˆ°çš„ä¸»è¦å›°éš¾ï¼š

1. **å­¦ä¹ æ›²çº¿**
   - éœ€è¦è®°å¿†ç‰¹æ€§åç§°ï¼ˆ`[SqlTemplate]`ã€`[SqlDefine]` ç­‰ï¼‰
   - å ä½ç¬¦è¯­æ³•ä¸å¤Ÿç›´è§‚ï¼ˆ`{{columns}}`ã€`{{where}}` ç­‰ï¼‰
   - ä¸æ¸…æ¥šå“ªäº›è¿”å›ç±»å‹å¯ç”¨

2. **å¼€å‘æ•ˆç‡**
   - éœ€è¦æ‰‹åŠ¨ç¼–å†™æ¥å£å’Œå®ç°ç±»
   - SQL è¯­å¥æ²¡æœ‰æ™ºèƒ½æç¤º
   - é”™è¯¯åªåœ¨ç¼–è¯‘æ—¶å‘ç°

3. **è°ƒè¯•å›°éš¾**
   - æ— æ³•æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç 
   - ä¸æ¸…æ¥š SQL æ˜¯å¦‚ä½•ç”Ÿæˆçš„
   - å‚æ•°ç»‘å®šé”™è¯¯éš¾ä»¥å‘ç°

---

## æ ¸å¿ƒç›®æ ‡

### æ€»ä½“ç›®æ ‡
**è®© Sqlx çš„ä½¿ç”¨åƒ EF Core ä¸€æ ·ç®€å•ï¼Œæ€§èƒ½åƒ Dapper ä¸€æ ·å¿«**

### å…·ä½“ç›®æ ‡
1. âœ… **é›¶å­¦ä¹ æˆæœ¬** - é€šè¿‡å‘å¯¼å’Œæ¨¡æ¿å¿«é€Ÿä¸Šæ‰‹
2. âœ… **æ™ºèƒ½æç¤º** - å®Œæ•´çš„ IntelliSense æ”¯æŒ
3. âœ… **å®æ—¶éªŒè¯** - ç¼–ç æ—¶å³æ—¶å‘ç°é”™è¯¯
4. âœ… **å¯è§†åŒ–** - ç›´è§‚å±•ç¤ºç”Ÿæˆçš„ä»£ç å’Œ SQL
5. âœ… **è‡ªåŠ¨åŒ–** - å‡å°‘æ‰‹åŠ¨ç¼–å†™çš„ä»£ç é‡

---

## åŠŸèƒ½è§„åˆ’

### Phase 1: åŸºç¡€å¢å¼ºï¼ˆv0.5.0ï¼‰ğŸ¯

#### 1.1 ä»£ç ç‰‡æ®µï¼ˆSnippetsï¼‰

**åŠŸèƒ½æè¿°**: æä¾›ä¸°å¯Œçš„ä»£ç ç‰‡æ®µæ¨¡æ¿

**å…·ä½“å†…å®¹**:

```csharp
// å¿«æ·é”®: sqlx-repo
[SqlDefine(SqlDefineTypes.$DbType$)]
[RepositoryFor(typeof($Entity$))]
public interface I$Entity$Repository
{
    $end$
}

public partial class $Entity$Repository(DbConnection connection) : I$Entity$Repository { }

// å¿«æ·é”®: sqlx-select
[SqlTemplate("SELECT {{columns}} FROM {{table}} WHERE $column$ = @$param$")]
Task<$Entity$?> Get$MethodName$Async($ParamType$ $param$, CancellationToken ct = default);

// å¿«æ·é”®: sqlx-insert
[SqlTemplate("INSERT INTO {{table}} ($columns$) VALUES ($values$)")]
[ReturnInsertedId]
Task<long> InsertAsync($Entity$ entity, CancellationToken ct = default);

// å¿«æ·é”®: sqlx-batch
[SqlTemplate("INSERT INTO {{table}} ($columns$) VALUES {{batch_values}}")]
[BatchOperation(MaxBatchSize = $size$)]
Task<int> BatchInsertAsync(IEnumerable<$Entity$> entities, CancellationToken ct = default);

// å¿«æ·é”®: sqlx-expr
[SqlTemplate("SELECT {{columns}} FROM {{table}} {{where}}")]
Task<List<$Entity$>> Query$Name$Async(
    [ExpressionToSql] Expression<Func<$Entity$, bool>> predicate,
    CancellationToken ct = default);
```

**å®ç°ä¼˜å…ˆçº§**: ğŸ”´ P0ï¼ˆæœ€é«˜ï¼‰  
**é¢„è®¡å·¥æ—¶**: 3å¤©

---

#### 1.2 é¡¹ç›®æ¨¡æ¿

**åŠŸèƒ½æè¿°**: æä¾›å¼€ç®±å³ç”¨çš„é¡¹ç›®æ¨¡æ¿

**æ¨¡æ¿åˆ—è¡¨**:

1. **Sqlx Console App**
   ```
   MyApp/
   â”œâ”€â”€ Models/
   â”‚   â””â”€â”€ User.cs
   â”œâ”€â”€ Repositories/
   â”‚   â”œâ”€â”€ IUserRepository.cs
   â”‚   â””â”€â”€ UserRepository.cs
   â”œâ”€â”€ Database/
   â”‚   â””â”€â”€ DatabaseInitializer.cs
   â”œâ”€â”€ appsettings.json
   â””â”€â”€ Program.cs
   ```

2. **Sqlx Web API**
   ```
   MyWebApi/
   â”œâ”€â”€ Models/
   â”œâ”€â”€ Repositories/
   â”œâ”€â”€ Services/
   â”œâ”€â”€ Controllers/
   â”œâ”€â”€ Program.cs
   â””â”€â”€ appsettings.json
   ```

3. **Sqlx + ASP.NET Core MVC**
4. **Sqlx + Blazor Server**
5. **Sqlx Minimal API**

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¡ P1  
**é¢„è®¡å·¥æ—¶**: 5å¤©

---

#### 1.3 å¿«é€Ÿæ“ä½œï¼ˆQuick Actionsï¼‰

**åŠŸèƒ½æè¿°**: å³é”®èœå•å¿«é€Ÿç”Ÿæˆä»£ç 

**åŠŸèƒ½ç‚¹**:

1. **ä»å®ä½“ç±»ç”Ÿæˆä»“å‚¨**
   ```
   å³é”® User.cs â†’ Sqlx: Generate Repository
   â†’ è‡ªåŠ¨ç”Ÿæˆ IUserRepository.cs å’Œ UserRepository.cs
   ```

2. **ç”Ÿæˆ CRUD æ–¹æ³•**
   ```
   å³é”®æ¥å£ â†’ Sqlx: Add CRUD Methods
   â†’ è‡ªåŠ¨æ·»åŠ  8 ä¸ªæ ‡å‡†æ–¹æ³•
   ```

3. **ç”Ÿæˆè‡ªå®šä¹‰æŸ¥è¯¢**
   ```
   å³é”®æ¥å£ â†’ Sqlx: Add Query Method
   â†’ å¼¹å‡ºå¯¹è¯æ¡†ï¼Œé€‰æ‹©æŸ¥è¯¢ç±»å‹ï¼ˆSELECT/INSERT/UPDATE/DELETEï¼‰
   â†’ è‡ªåŠ¨ç”Ÿæˆæ–¹æ³•å’Œ SQL æ¨¡æ¿
   ```

**å®ç°ä¼˜å…ˆçº§**: ğŸ”´ P0  
**é¢„è®¡å·¥æ—¶**: 5å¤©

---

### Phase 2: æ™ºèƒ½å¢å¼ºï¼ˆv0.6.0ï¼‰ğŸš€

#### 2.1 SQL æ™ºèƒ½æç¤º

**åŠŸèƒ½æè¿°**: åœ¨ SqlTemplate ä¸­æä¾› SQL æ™ºèƒ½æ„ŸçŸ¥

**åŠŸèƒ½ç‚¹**:

1. **å ä½ç¬¦è‡ªåŠ¨å®Œæˆ**
   ```csharp
   [SqlTemplate("SELECT {{colâ†“")]
   // è‡ªåŠ¨æç¤º: columns, table, values, where, limit, offset...
   ```

2. **è¡¨åå’Œåˆ—åæç¤º**
   ```csharp
   [SqlTemplate("SELECT * FROM usâ†“")]
   // è‡ªåŠ¨æç¤º: users, user_profiles...ï¼ˆä»é¡¹ç›®ä¸­çš„å®ä½“ç±»æ¨æ–­ï¼‰
   ```

3. **SQL å…³é”®å­—é«˜äº®**
   - SELECT, INSERT, UPDATE, DELETE é«˜äº®
   - WHERE, ORDER BY, GROUP BY é«˜äº®

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ  P1  
**é¢„è®¡å·¥æ—¶**: 8å¤©

---

#### 2.2 å‚æ•°éªŒè¯å’Œæç¤º

**åŠŸèƒ½æè¿°**: å®æ—¶éªŒè¯ SQL å‚æ•°å’Œæ–¹æ³•å‚æ•°çš„åŒ¹é…

**åŠŸèƒ½ç‚¹**:

1. **å‚æ•°ä¸åŒ¹é…è­¦å‘Š**
   ```csharp
   [SqlTemplate("SELECT * FROM users WHERE id = @userId")]
   Task<User?> GetByIdAsync(long id);  // âš ï¸ è­¦å‘Š: å‚æ•° @userId æœªæ‰¾åˆ°
   ```

2. **å‚æ•°å»ºè®®**
   ```csharp
   [SqlTemplate("SELECT * FROM users WHERE age >= @â†“")]
   // è‡ªåŠ¨æç¤ºæ–¹æ³•å‚æ•°: id, name, age...
   ```

3. **ç±»å‹ä¸åŒ¹é…è­¦å‘Š**
   ```csharp
   [SqlTemplate("SELECT COUNT(*) FROM users")]
   Task<User?> CountAsync();  // âŒ é”™è¯¯: è¿”å›ç±»å‹åº”è¯¥æ˜¯ Task<long>
   ```

**å®ç°ä¼˜å…ˆçº§**: ğŸ”´ P0  
**é¢„è®¡å·¥æ—¶**: 6å¤©

---

#### 2.3 å®æ—¶è¯Šæ–­å’Œå»ºè®®

**åŠŸèƒ½æè¿°**: åœ¨ç¼–è¾‘å™¨ä¸­å®æ—¶æ˜¾ç¤ºè¯Šæ–­ä¿¡æ¯

**è¯Šæ–­ç±»å‹**:

| è¯Šæ–­ ID | ä¸¥é‡æ€§ | è¯´æ˜ | ç¤ºä¾‹ |
|---------|--------|------|------|
| SQLX001 | Error | ç¼ºå°‘å¿…éœ€ç‰¹æ€§ | æ¥å£æ²¡æœ‰ `[SqlDefine]` |
| SQLX002 | Error | SQL å‚æ•°ä¸åŒ¹é… | `@userId` æ‰¾ä¸åˆ°å¯¹åº”å‚æ•° |
| SQLX003 | Warning | è¿”å›ç±»å‹å»ºè®® | COUNT æŸ¥è¯¢å»ºè®®è¿”å› `Task<long>` |
| SQLX004 | Info | æ€§èƒ½å»ºè®® | å»ºè®®ä½¿ç”¨æ‰¹é‡æ“ä½œ |
| SQLX005 | Warning | ç¼ºå°‘ç´¢å¼•å»ºè®® | WHERE å­å¥ä¸­çš„åˆ—å»ºè®®æ·»åŠ ç´¢å¼• |
| SQLX006 | Error | è¡¨è¾¾å¼ä¸æ”¯æŒ | `u => u.Age.ToString()` ä¸æ”¯æŒ |
| SQLX007 | Warning | SQLæ³¨å…¥é£é™© | æ£€æµ‹åˆ°å­—ç¬¦ä¸²æ‹¼æ¥ |
| SQLX008 | Info | å ä½ç¬¦å¯ä¼˜åŒ– | å¯ä»¥ä½¿ç”¨ `{{columns}}` æ›¿æ¢ |

**å¿«é€Ÿä¿®å¤ï¼ˆCode Fixesï¼‰**:

```csharp
// è¯Šæ–­: SQLX001 - ç¼ºå°‘ [SqlDefine]
public interface IUserRepository { }
// å¿«é€Ÿä¿®å¤: æ·»åŠ  [SqlDefine] ç‰¹æ€§
// â†’ å¼¹å‡ºæ•°æ®åº“ç±»å‹é€‰æ‹©èœå•

// è¯Šæ–­: SQLX002 - å‚æ•°ä¸åŒ¹é…
[SqlTemplate("WHERE id = @userId")]
Task<User?> GetAsync(long id);
// å¿«é€Ÿä¿®å¤1: é‡å‘½åå‚æ•°ä¸º userId
// å¿«é€Ÿä¿®å¤2: å°† SQL ä¸­æ”¹ä¸º @id
```

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ  P1  
**é¢„è®¡å·¥æ—¶**: 10å¤©

---

### Phase 3: å¯è§†åŒ–å·¥å…·ï¼ˆv0.7.0ï¼‰âœ¨

#### 3.1 ç”Ÿæˆä»£ç æŸ¥çœ‹å™¨

**åŠŸèƒ½æè¿°**: å®æ—¶æŸ¥çœ‹æºç”Ÿæˆå™¨ç”Ÿæˆçš„ä»£ç 

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sqlx Generated Code Viewer                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Repository: UserRepository                     â”‚
â”‚  Methods: [GetByIdAsync â–¼] [InsertAsync] ...   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  // Generated code for GetByIdAsync             â”‚
â”‚  public async Task<User?> GetByIdAsync(         â”‚
â”‚      long id,                                    â”‚
â”‚      CancellationToken ct = default)            â”‚
â”‚  {                                               â”‚
â”‚      using var cmd = _connection.CreateCommand();â”‚
â”‚      cmd.CommandText = "SELECT id, name, age    â”‚
â”‚                         FROM users               â”‚
â”‚                         WHERE id = @id";         â”‚
â”‚      cmd.Parameters.AddWithValue("@id", id);    â”‚
â”‚      ...                                         â”‚
â”‚  }                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Copy Code] [Go to Definition] [Refresh]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‚¹**:
- âœ… å®æ—¶æ˜¾ç¤ºç”Ÿæˆçš„ä»£ç 
- âœ… ä»£ç è¯­æ³•é«˜äº®
- âœ… è·³è½¬åˆ°å®šä¹‰
- âœ… å¤åˆ¶ä»£ç 

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¡ P2  
**é¢„è®¡å·¥æ—¶**: 7å¤©

---

#### 3.2 SQL é¢„è§ˆå™¨

**åŠŸèƒ½æè¿°**: é¢„è§ˆæœ€ç»ˆç”Ÿæˆçš„ SQL è¯­å¥

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SQL Preview                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Method: GetByIdAsync                            â”‚
â”‚  Database: SQLite                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Template:                                       â”‚
â”‚  SELECT {{columns}} FROM {{table}} WHERE id=@id  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Generated SQL (SQLite):                         â”‚
â”‚  SELECT id, name, age, email, created_at         â”‚
â”‚  FROM users                                      â”‚
â”‚  WHERE id = @id                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Parameters:                                     â”‚
â”‚  â€¢ @id (Int64) = ?                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Copy SQL] [Test Query] [Switch Database â–¼]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‚¹**:
- âœ… æ˜¾ç¤ºæ¨¡æ¿å’Œæœ€ç»ˆ SQL
- âœ… å‚æ•°åˆ—è¡¨
- âœ… å¤šæ•°æ®åº“åˆ‡æ¢é¢„è§ˆ
- âœ… å¤åˆ¶ SQL
- âœ… æµ‹è¯•æŸ¥è¯¢ï¼ˆè¿æ¥æ•°æ®åº“æ‰§è¡Œï¼‰

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¡ P2  
**é¢„è®¡å·¥æ—¶**: 8å¤©

---

#### 3.3 å®ä½“ç±»è®¾è®¡å™¨

**åŠŸèƒ½æè¿°**: å¯è§†åŒ–è®¾è®¡å®ä½“ç±»å’Œå…³ç³»

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sqlx Entity Designer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Entities    â”‚  User                            â”‚
â”‚  â”œâ”€ User     â”‚  â”œâ”€ Id: long [PK]               â”‚
â”‚  â”œâ”€ Order    â”‚  â”œâ”€ Name: string                â”‚
â”‚  â”œâ”€ Product  â”‚  â”œâ”€ Email: string?              â”‚
â”‚  â””â”€ ...      â”‚  â”œâ”€ Age: int                    â”‚
â”‚              â”‚  â”œâ”€ IsActive: bool              â”‚
â”‚  [+ Add]     â”‚  â””â”€ CreatedAt: DateTime         â”‚
â”‚              â”‚                                  â”‚
â”‚              â”‚  [TableName]: users              â”‚
â”‚              â”‚  [ ] SoftDelete                  â”‚
â”‚              â”‚  [ ] AuditFields                 â”‚
â”‚              â”‚  [ ] ConcurrencyCheck            â”‚
â”‚              â”‚                                  â”‚
â”‚              â”‚  [Generate Repository]           â”‚
â”‚              â”‚  [Generate Migration]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‚¹**:
- âœ… å¯è§†åŒ–å®ä½“è®¾è®¡
- âœ… å±æ€§ç±»å‹é€‰æ‹©
- âœ… ç‰¹æ€§é…ç½®ï¼ˆTableNameã€SoftDelete ç­‰ï¼‰
- âœ… ç”Ÿæˆå®ä½“ç±»ä»£ç 
- âœ… ç”Ÿæˆæ•°æ®åº“è¿ç§»è„šæœ¬

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¢ P3ï¼ˆä½ä¼˜å…ˆçº§ï¼‰  
**é¢„è®¡å·¥æ—¶**: 15å¤©

---

### Phase 4: é«˜çº§åŠŸèƒ½ï¼ˆv0.8.0ï¼‰ğŸ¨

#### 4.1 æ•°æ®åº“è¿æ¥ç®¡ç†å™¨

**åŠŸèƒ½æè¿°**: ç®¡ç†é¡¹ç›®ä¸­çš„æ•°æ®åº“è¿æ¥

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database Connections                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â˜‘ Development (SQLite)                         â”‚
â”‚     Data Source=app.db                          â”‚
â”‚     [Test] [Edit] [Set as Default]             â”‚
â”‚                                                  â”‚
â”‚  â˜ Staging (PostgreSQL)                         â”‚
â”‚     Host=localhost;Database=app_staging         â”‚
â”‚     [Test] [Edit]                               â”‚
â”‚                                                  â”‚
â”‚  â˜ Production (PostgreSQL)                      â”‚
â”‚     Host=prod.db.com;Database=app               â”‚
â”‚     [Test] [Edit]                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+ Add Connection] [Import from appsettings]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‚¹**:
- âœ… ç®¡ç†å¤šä¸ªæ•°æ®åº“è¿æ¥
- âœ… æµ‹è¯•è¿æ¥
- âœ… ä» appsettings.json å¯¼å…¥
- âœ… è®¾ç½®é»˜è®¤è¿æ¥
- âœ… æ‰§è¡Œæµ‹è¯•æŸ¥è¯¢

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¡ P2  
**é¢„è®¡å·¥æ—¶**: 6å¤©

---

#### 4.2 æŸ¥è¯¢æµ‹è¯•å·¥å…·

**åŠŸèƒ½æè¿°**: åœ¨ IDE ä¸­ç›´æ¥æµ‹è¯• SQL æŸ¥è¯¢

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Query Tester                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Repository: UserRepository                     â”‚
â”‚  Method: GetByIdAsync                           â”‚
â”‚  Connection: Development â–¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Parameters:                                     â”‚
â”‚  â€¢ id: [       1       ]                        â”‚
â”‚  â€¢ ct: [CancellationToken.None]                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â–¶ Execute] [Clear] [Save Test]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Results: (1 row, 15ms)                         â”‚
â”‚  {                                               â”‚
â”‚    "Id": 1,                                      â”‚
â”‚    "Name": "Alice",                              â”‚
â”‚    "Age": 25,                                    â”‚
â”‚    "Email": "alice@example.com"                  â”‚
â”‚  }                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åŠŸèƒ½ç‚¹**:
- âœ… é€‰æ‹©æ–¹æ³•å’Œè¿æ¥
- âœ… è¾“å…¥å‚æ•°å€¼
- âœ… æ‰§è¡ŒæŸ¥è¯¢
- âœ… æ˜¾ç¤ºç»“æœï¼ˆJSON æ ¼å¼ï¼‰
- âœ… æ˜¾ç¤ºæ‰§è¡Œæ—¶é—´
- âœ… ä¿å­˜æµ‹è¯•ç”¨ä¾‹

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¢ P3  
**é¢„è®¡å·¥æ—¶**: 8å¤©

---

#### 4.3 æ€§èƒ½åˆ†æå™¨

**åŠŸèƒ½æè¿°**: åˆ†ææŸ¥è¯¢æ€§èƒ½ï¼Œæä¾›ä¼˜åŒ–å»ºè®®

**ç•Œé¢è®¾è®¡**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Performance Analyzer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Method: GetUsersByAgeAsync                     â”‚
â”‚  SQL: SELECT * FROM users WHERE age >= @minAge  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âš ï¸ Performance Issues (2)                      â”‚
â”‚                                                  â”‚
â”‚  1. Missing Index                                â”‚
â”‚     Column 'age' in WHERE clause has no index   â”‚
â”‚     â†’ CREATE INDEX idx_users_age ON users(age)  â”‚
â”‚                                                  â”‚
â”‚  2. SELECT *                                     â”‚
â”‚     Selecting all columns may be inefficient    â”‚
â”‚     â†’ Use {{columns}} or specify needed columns â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… Good Practices (1)                          â”‚
â”‚                                                  â”‚
â”‚  1. Parameterized Query                          â”‚
â”‚     Using parameters prevents SQL injection     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Estimated Performance: ğŸŸ¡ Medium                â”‚
â”‚  [Apply Fixes] [Ignore] [Learn More]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ£€æŸ¥é¡¹**:
- âœ… ç¼ºå°‘ç´¢å¼•è­¦å‘Š
- âœ… SELECT * æ£€æµ‹
- âœ… N+1 æŸ¥è¯¢æ£€æµ‹
- âœ… æœªä½¿ç”¨å ä½ç¬¦
- âœ… å¤§ç»“æœé›†è­¦å‘Šï¼ˆå»ºè®® LIMITï¼‰
- âœ… å¤æ‚ JOIN åˆ†æ

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¢ P3  
**é¢„è®¡å·¥æ—¶**: 10å¤©

---

#### 4.4 è¿ç§»è„šæœ¬ç”Ÿæˆå™¨

**åŠŸèƒ½æè¿°**: ä»å®ä½“ç±»ç”Ÿæˆæ•°æ®åº“è¿ç§»è„šæœ¬

**åŠŸèƒ½ç‚¹**:

1. **åˆå§‹è¿ç§»**
   ```
   å³é”® Models/ â†’ Sqlx: Generate Initial Migration
   â†’ ç”Ÿæˆæ‰€æœ‰è¡¨çš„ CREATE TABLE è„šæœ¬
   ```

2. **å¢é‡è¿ç§»**
   ```
   ä¿®æ”¹å®ä½“ç±» â†’ Sqlx: Generate Migration
   â†’ åˆ†æå˜æ›´ï¼Œç”Ÿæˆ ALTER TABLE è„šæœ¬
   ```

3. **å¤šæ•°æ®åº“æ”¯æŒ**
   - SQLite
   - MySQL
   - PostgreSQL
   - SQL Server
   - Oracle

**ç”Ÿæˆç¤ºä¾‹**:

```sql
-- Migration: AddEmailToUsers_20251029_143052
-- Database: SQLite

-- Up
ALTER TABLE users ADD COLUMN email TEXT;
CREATE INDEX idx_users_email ON users(email);

-- Down
ALTER TABLE users DROP COLUMN email;
```

**å®ç°ä¼˜å…ˆçº§**: ğŸŸ¢ P3  
**é¢„è®¡å·¥æ—¶**: 12å¤©

---

### Phase 5: å›¢é˜Ÿåä½œï¼ˆv0.9.0ï¼‰ğŸ‘¥

#### 5.1 ä»£ç å®¡æŸ¥åŠ©æ‰‹

**åŠŸèƒ½æè¿°**: å¸®åŠ©å›¢é˜Ÿä¿æŒä»£ç è´¨é‡

**åŠŸèƒ½ç‚¹**:

1. **ä»£ç é£æ ¼æ£€æŸ¥**
   - å‘½åè§„èŒƒï¼ˆæ–¹æ³•åã€å‚æ•°åï¼‰
   - SQL æ ¼å¼åŒ–
   - æ³¨é‡Šå®Œæ•´æ€§

2. **æœ€ä½³å®è·µæ£€æŸ¥**
   - æ˜¯å¦ä½¿ç”¨æ‰¹é‡æ“ä½œ
   - æ˜¯å¦æ·»åŠ ç´¢å¼•
   - æ˜¯å¦ä½¿ç”¨äº‹åŠ¡
   - æ˜¯å¦å¤„ç† NULL

3. **å®‰å…¨æ£€æŸ¥**
   - SQL æ³¨å…¥é£é™©
   - æ•æ„Ÿä¿¡æ¯æ³„éœ²
   - æƒé™æ£€æŸ¥

**å®ç°ä¼˜å…ˆçº§**: ğŸ”µ P4ï¼ˆæœªæ¥ï¼‰  
**é¢„è®¡å·¥æ—¶**: 8å¤©

---

#### 5.2 æ–‡æ¡£ç”Ÿæˆå™¨

**åŠŸèƒ½æè¿°**: è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£

**ç”Ÿæˆå†…å®¹**:

```markdown
# UserRepository API Documentation

## GetByIdAsync

**Description**: Get user by ID

**SQL Template**:
```sql
SELECT {{columns}} FROM users WHERE id = @id
```

**Parameters**:
- `id` (long): User ID

**Returns**: `Task<User?>` - User entity or null

**Example**:
```csharp
var user = await repo.GetByIdAsync(1);
```
```

**å®ç°ä¼˜å…ˆçº§**: ğŸ”µ P4  
**é¢„è®¡å·¥æ—¶**: 5å¤©

---

## å®ç°ä¼˜å…ˆçº§

### P0 - å¿…é¡»æœ‰ï¼ˆv0.5.0ï¼‰ğŸ”´
1. âœ… ä»£ç ç‰‡æ®µï¼ˆSnippetsï¼‰- 3å¤©
2. âœ… å¿«é€Ÿæ“ä½œï¼ˆQuick Actionsï¼‰- 5å¤©
3. âœ… å‚æ•°éªŒè¯å’Œæç¤º - 6å¤©

**æ€»è®¡**: 14å¤©

### P1 - åº”è¯¥æœ‰ï¼ˆv0.6.0ï¼‰ğŸŸ 
4. âœ… é¡¹ç›®æ¨¡æ¿ - 5å¤©
5. âœ… SQL æ™ºèƒ½æç¤º - 8å¤©
6. âœ… å®æ—¶è¯Šæ–­å’Œå»ºè®® - 10å¤©

**æ€»è®¡**: 23å¤©

### P2 - æœ€å¥½æœ‰ï¼ˆv0.7.0ï¼‰ğŸŸ¡
7. âœ… ç”Ÿæˆä»£ç æŸ¥çœ‹å™¨ - 7å¤©
8. âœ… SQL é¢„è§ˆå™¨ - 8å¤©
9. âœ… æ•°æ®åº“è¿æ¥ç®¡ç†å™¨ - 6å¤©

**æ€»è®¡**: 21å¤©

### P3 - å¯ä»¥æœ‰ï¼ˆv0.8.0ï¼‰ğŸŸ¢
10. âœ… å®ä½“ç±»è®¾è®¡å™¨ - 15å¤©
11. âœ… æŸ¥è¯¢æµ‹è¯•å·¥å…· - 8å¤©
12. âœ… æ€§èƒ½åˆ†æå™¨ - 10å¤©
13. âœ… è¿ç§»è„šæœ¬ç”Ÿæˆå™¨ - 12å¤©

**æ€»è®¡**: 45å¤©

### P4 - æœªæ¥ï¼ˆv0.9.0+ï¼‰ğŸ”µ
14. ä»£ç å®¡æŸ¥åŠ©æ‰‹ - 8å¤©
15. æ–‡æ¡£ç”Ÿæˆå™¨ - 5å¤©

**æ€»è®¡**: 13å¤©

---

## æŠ€æœ¯æ¶æ„

### æ’ä»¶æ¶æ„

```
Sqlx.Extension (VS Extension)
â”œâ”€â”€ Core/
â”‚   â”œâ”€â”€ SqlxPackage.cs                 // ä¸»åŒ…
â”‚   â”œâ”€â”€ LanguageService.cs             // è¯­è¨€æœåŠ¡
â”‚   â””â”€â”€ DiagnosticAnalyzer.cs          // è¯Šæ–­åˆ†æå™¨
â”œâ”€â”€ Features/
â”‚   â”œâ”€â”€ Snippets/
â”‚   â”‚   â””â”€â”€ SqlxSnippets.cs
â”‚   â”œâ”€â”€ QuickActions/
â”‚   â”‚   â”œâ”€â”€ GenerateRepositoryAction.cs
â”‚   â”‚   â”œâ”€â”€ AddCrudMethodsAction.cs
â”‚   â”‚   â””â”€â”€ AddQueryMethodAction.cs
â”‚   â”œâ”€â”€ IntelliSense/
â”‚   â”‚   â”œâ”€â”€ SqlCompletionProvider.cs
â”‚   â”‚   â”œâ”€â”€ PlaceholderCompletionProvider.cs
â”‚   â”‚   â””â”€â”€ ParameterCompletionProvider.cs
â”‚   â”œâ”€â”€ Diagnostics/
â”‚   â”‚   â”œâ”€â”€ ParameterMismatchAnalyzer.cs
â”‚   â”‚   â”œâ”€â”€ ReturnTypeAnalyzer.cs
â”‚   â”‚   â””â”€â”€ PerformanceAnalyzer.cs
â”‚   â”œâ”€â”€ CodeFixes/
â”‚   â”‚   â”œâ”€â”€ AddAttributeCodeFix.cs
â”‚   â”‚   â”œâ”€â”€ RenameParameterCodeFix.cs
â”‚   â”‚   â””â”€â”€ ChangeReturnTypeCodeFix.cs
â”‚   â””â”€â”€ ToolWindows/
â”‚       â”œâ”€â”€ GeneratedCodeViewer.cs
â”‚       â”œâ”€â”€ SqlPreview.cs
â”‚       â””â”€â”€ QueryTester.cs
â”œâ”€â”€ Templates/
â”‚   â”œâ”€â”€ Projects/
â”‚   â”‚   â”œâ”€â”€ ConsoleApp/
â”‚   â”‚   â”œâ”€â”€ WebApi/
â”‚   â”‚   â””â”€â”€ BlazorServer/
â”‚   â””â”€â”€ Items/
â”‚       â”œâ”€â”€ Repository.cs
â”‚       â”œâ”€â”€ Entity.cs
â”‚       â””â”€â”€ Service.cs
â””â”€â”€ Resources/
    â”œâ”€â”€ Icons/
    â”œâ”€â”€ Snippets/
    â””â”€â”€ Templates/
```

### æŠ€æœ¯æ ˆ

| ç»„ä»¶ | æŠ€æœ¯ | ç‰ˆæœ¬ |
|------|------|------|
| **VS SDK** | Microsoft.VisualStudio.SDK | 17.0+ |
| **è¯­è¨€æœåŠ¡** | Microsoft.VisualStudio.LanguageServices | 17.0+ |
| **Roslyn** | Microsoft.CodeAnalysis | 4.8+ |
| **UI æ¡†æ¶** | WPF | .NET 4.7.2+ |
| **æµ‹è¯•** | xUnit + Moq | Latest |

---

## å¼€å‘è®¡åˆ’

### Sprint 1: åŸºç¡€è®¾æ–½ï¼ˆWeek 1-2ï¼‰

**ç›®æ ‡**: æ­å»ºæ’ä»¶åŸºç¡€æ¶æ„

- [ ] å‡çº§é¡¹ç›®ç»“æ„
- [ ] æ·»åŠ å¿…è¦çš„ NuGet åŒ…
- [ ] å®ç°è¯­è¨€æœåŠ¡åŸºç¡€
- [ ] è®¾ç½® CI/CD æµç¨‹

**äº¤ä»˜ç‰©**:
- âœ… æ’ä»¶å¯ä»¥åŠ è½½åˆ° VS
- âœ… åŸºç¡€æ¶æ„å°±ç»ª
- âœ… æµ‹è¯•æ¡†æ¶æ­å»ºå®Œæˆ

---

### Sprint 2: ä»£ç ç‰‡æ®µ + å¿«é€Ÿæ“ä½œï¼ˆWeek 3-4ï¼‰

**ç›®æ ‡**: å®ç° P0 åŠŸèƒ½

- [ ] å®ç°æ‰€æœ‰ä»£ç ç‰‡æ®µ
- [ ] å®ç°"ç”Ÿæˆä»“å‚¨"å¿«é€Ÿæ“ä½œ
- [ ] å®ç°"æ·»åŠ  CRUD æ–¹æ³•"å¿«é€Ÿæ“ä½œ
- [ ] ç¼–å†™å•å…ƒæµ‹è¯•

**äº¤ä»˜ç‰©**:
- âœ… 10+ ä»£ç ç‰‡æ®µ
- âœ… 3 ä¸ªå¿«é€Ÿæ“ä½œ
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 80%

---

### Sprint 3: å‚æ•°éªŒè¯ï¼ˆWeek 5-6ï¼‰

**ç›®æ ‡**: å®ç°å‚æ•°åŒ¹é…éªŒè¯

- [ ] å®ç°å‚æ•°ä¸åŒ¹é…è¯Šæ–­
- [ ] å®ç°å¿«é€Ÿä¿®å¤
- [ ] å®ç°å‚æ•°æ™ºèƒ½æç¤º
- [ ] é›†æˆæµ‹è¯•

**äº¤ä»˜ç‰©**:
- âœ… å‚æ•°éªŒè¯åŠŸèƒ½
- âœ… 5+ å¿«é€Ÿä¿®å¤
- âœ… æ–‡æ¡£æ›´æ–°

---

### Sprint 4-6: SQL æ™ºèƒ½æç¤º + è¯Šæ–­ï¼ˆWeek 7-12ï¼‰

**ç›®æ ‡**: å®ç° P1 åŠŸèƒ½

- [ ] SQL æ™ºèƒ½æç¤º
- [ ] å ä½ç¬¦è‡ªåŠ¨å®Œæˆ
- [ ] 8 ç§è¯Šæ–­åˆ†æå™¨
- [ ] æ€§èƒ½ä¼˜åŒ–

---

### Sprint 7-9: å¯è§†åŒ–å·¥å…·ï¼ˆWeek 13-18ï¼‰

**ç›®æ ‡**: å®ç° P2 åŠŸèƒ½

- [ ] ç”Ÿæˆä»£ç æŸ¥çœ‹å™¨
- [ ] SQL é¢„è§ˆå™¨
- [ ] æ•°æ®åº“è¿æ¥ç®¡ç†å™¨

---

### Sprint 10+: é«˜çº§åŠŸèƒ½ï¼ˆWeek 19+ï¼‰

**ç›®æ ‡**: å®ç° P3ã€P4 åŠŸèƒ½

- [ ] æŒ‰ä¼˜å…ˆçº§é€æ­¥å®ç°

---

## ç”¨æˆ·ä½“éªŒè®¾è®¡

### æ–°ç”¨æˆ·ä½“éªŒï¼ˆFirst-time User Experienceï¼‰

#### 1. æ¬¢è¿é¡µé¢

é¦–æ¬¡å®‰è£…æ’ä»¶åæ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Welcome to Sqlx!                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš€ High-performance .NET data access      â”‚
â”‚                                             â”‚
â”‚  Get Started:                               â”‚
â”‚  â€¢ [Create New Project]                     â”‚
â”‚  â€¢ [Add to Existing Project]                â”‚
â”‚  â€¢ [View Samples]                           â”‚
â”‚  â€¢ [Read Documentation]                     â”‚
â”‚                                             â”‚
â”‚  Quick Tips:                                â”‚
â”‚  â€¢ Type 'sqlx-repo' to create repository   â”‚
â”‚  â€¢ Right-click entity â†’ Generate Repositoryâ”‚
â”‚  â€¢ Use {{columns}} for automatic columns   â”‚
â”‚                                             â”‚
â”‚  [Show this on startup â˜‘]  [Close]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 2. å¼•å¯¼å¼å‘å¯¼

**åœºæ™¯**: åˆ›å»ºç¬¬ä¸€ä¸ªä»“å‚¨

```
Step 1/4: Choose Database
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select your database type:                 â”‚
â”‚                                             â”‚
â”‚ â—‹ SQLite (recommended for getting started)â”‚
â”‚ â—‹ PostgreSQL                                â”‚
â”‚ â—‹ MySQL                                     â”‚
â”‚ â—‹ SQL Server                                â”‚
â”‚ â—‹ Oracle                                    â”‚
â”‚                                             â”‚
â”‚ [Previous] [Next]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2/4: Configure Entity
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select entity class:                        â”‚
â”‚ [User â–¼]                                    â”‚
â”‚                                             â”‚
â”‚ Table name: [users____]                     â”‚
â”‚                                             â”‚
â”‚ Advanced options:                           â”‚
â”‚ â˜ Enable soft delete                       â”‚
â”‚ â˜ Add audit fields                         â”‚
â”‚ â˜ Add optimistic concurrency               â”‚
â”‚                                             â”‚
â”‚ [Previous] [Next]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3/4: Choose Methods
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select methods to generate:                 â”‚
â”‚                                             â”‚
â”‚ â˜‘ CRUD Operations (8 methods)              â”‚
â”‚   â”œâ”€ GetByIdAsync                          â”‚
â”‚   â”œâ”€ GetAllAsync                           â”‚
â”‚   â”œâ”€ InsertAsync                           â”‚
â”‚   â””â”€ ...                                    â”‚
â”‚                                             â”‚
â”‚ â˜‘ Custom Queries                            â”‚
â”‚   [+ Add Query]                            â”‚
â”‚                                             â”‚
â”‚ [Previous] [Next]                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 4/4: Review and Generate
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Preview:                                    â”‚
â”‚                                             â”‚
â”‚ Files to create:                            â”‚
â”‚ â€¢ IUserRepository.cs (interface)           â”‚
â”‚ â€¢ UserRepository.cs (implementation)       â”‚
â”‚                                             â”‚
â”‚ Methods: 8                                  â”‚
â”‚ Database: SQLite                            â”‚
â”‚                                             â”‚
â”‚ [Previous] [Generate]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ—¥å¸¸ä½¿ç”¨ä½“éªŒ

#### æ™ºèƒ½æç¤ºç¤ºä¾‹

```csharp
public interface IUserRepository
{
    // è¾“å…¥ sqlx è§¦å‘ä»£ç ç‰‡æ®µ
    [SqlTemplate("SELECT {{col|â†“")]
    //                    â†‘ è‡ªåŠ¨æç¤º:
    //                      â€¢ {{columns}}
    //                      â€¢ {{table}}
    //                      â€¢ {{where}}
    
    // è¾“å…¥å‚æ•°è‡ªåŠ¨æç¤º
    [SqlTemplate("SELECT * FROM users WHERE id = @|")]
    //                                            â†‘ è‡ªåŠ¨æç¤ºæ–¹æ³•å‚æ•°
    
    // è¿”å›ç±»å‹è­¦å‘Š
    [SqlTemplate("SELECT COUNT(*) FROM users")]
    Task<User?> CountAsync();  // âš ï¸ è­¦å‘Š: å»ºè®®è¿”å› Task<long>
    //                              ğŸ’¡ å¿«é€Ÿä¿®å¤: æ›´æ”¹ä¸º Task<long>
}
```

---

### é”™è¯¯å¤„ç†

#### å‹å¥½çš„é”™è¯¯æ¶ˆæ¯

**âŒ ä¹‹å‰**:
```
error CS0535: 'UserRepository' does not implement interface member 'IUserRepository.GetByIdAsync(long)'
```

**âœ… ç°åœ¨**:
```
Sqlx: æœªæ‰¾åˆ°æ–¹æ³•å®ç°

æ¥å£ 'IUserRepository' ä¸­çš„æ–¹æ³• 'GetByIdAsync' æ²¡æœ‰å®ç°ã€‚

å¯èƒ½åŸå› :
1. é¡¹ç›®æœªé‡æ–°ç¼–è¯‘ï¼ˆæºç”Ÿæˆå™¨éœ€è¦ç¼–è¯‘æ‰èƒ½ç”Ÿæˆä»£ç ï¼‰
2. æ¥å£å’Œå®ç°åœ¨åŒä¸€æ–‡ä»¶ä¸­
3. ç¼ºå°‘å¿…éœ€çš„ç‰¹æ€§æ ‡è®°

å»ºè®®æ“ä½œ:
â€¢ [é‡æ–°ç”Ÿæˆé¡¹ç›®] - è§¦å‘æºç”Ÿæˆå™¨
â€¢ [æ£€æŸ¥ç‰¹æ€§] - éªŒè¯ [SqlDefine] å’Œ [RepositoryFor]
â€¢ [æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç ] - æ‰“å¼€ç”Ÿæˆä»£ç æŸ¥çœ‹å™¨

[äº†è§£æ›´å¤š]
```

---

## æˆåŠŸæŒ‡æ ‡

### é‡åŒ–æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰ |
|------|------|------|
| ä¸‹è½½é‡ | 10,000+ | 0 |
| è¯„åˆ† | 4.5+ / 5.0 | N/A |
| æ´»è·ƒç”¨æˆ· | 1,000+ | 0 |
| æ—¥å‡ä½¿ç”¨æ—¶é•¿ | 30+ åˆ†é’Ÿ | 0 |

### ç”¨æˆ·æ»¡æ„åº¦

**è°ƒæŸ¥é—®é¢˜**:
1. æ’ä»¶æ˜¯å¦æå‡äº†æ‚¨çš„å¼€å‘æ•ˆç‡ï¼Ÿï¼ˆ1-5åˆ†ï¼‰
2. å“ªä¸ªåŠŸèƒ½æœ€æœ‰ç”¨ï¼Ÿ
3. è¿˜å¸Œæœ›çœ‹åˆ°ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ
4. é‡åˆ°è¿‡ä»€ä¹ˆé—®é¢˜ï¼Ÿ

**ç›®æ ‡**: 90% ç”¨æˆ·æ»¡æ„åº¦ï¼ˆ4åˆ†ä»¥ä¸Šï¼‰

---

## é£é™©å’ŒæŒ‘æˆ˜

### æŠ€æœ¯é£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| VS SDK API å˜æ›´ | é«˜ | ä¸­ | å®šæœŸè·Ÿè¿› VS æ›´æ–° |
| Roslyn API å¤æ‚åº¦ | ä¸­ | é«˜ | å……åˆ†å­¦ä¹ å’Œæµ‹è¯• |
| æ€§èƒ½é—®é¢˜ | é«˜ | ä¸­ | æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ– |
| å¤š VS ç‰ˆæœ¬å…¼å®¹ | ä¸­ | é«˜ | æ”¯æŒ VS 2022+ |

### èµ„æºé£é™©

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|---------|
| å¼€å‘æ—¶é—´ä¸è¶³ | é«˜ | ä¸­ | ä¼˜å…ˆå®ç° P0ã€P1 |
| æµ‹è¯•è¦†ç›–ä¸è¶³ | ä¸­ | ä¸­ | è‡ªåŠ¨åŒ–æµ‹è¯• |
| æ–‡æ¡£æ»å | ä½ | é«˜ | åŒæ­¥æ›´æ–°æ–‡æ¡£ |

---

## æ€»ç»“

### æ ¸å¿ƒä»·å€¼

**è®© Sqlx æˆä¸º .NET å¼€å‘è€…çš„é¦–é€‰æ•°æ®è®¿é—®æ–¹æ¡ˆ**

é€šè¿‡ VS æ’ä»¶ï¼Œæˆ‘ä»¬å°†ï¼š
1. âœ… **é™ä½å­¦ä¹ é—¨æ§›** - æ–°æ‰‹ 5 åˆ†é’Ÿä¸Šæ‰‹
2. âœ… **æå‡å¼€å‘æ•ˆç‡** - å‡å°‘ 80% æ‰‹åŠ¨ä»£ç 
3. âœ… **ä¿è¯ä»£ç è´¨é‡** - å®æ—¶æ£€æµ‹å’Œä¿®å¤
4. âœ… **å¢å¼ºå¼€å‘ä½“éªŒ** - å¯è§†åŒ–å’Œæ™ºèƒ½æç¤º

### è·¯çº¿å›¾

```
v0.5.0 (Sprint 1-3) - åŸºç¡€å¢å¼º         ğŸ“… Q1 2026
v0.6.0 (Sprint 4-6) - æ™ºèƒ½å¢å¼º         ğŸ“… Q2 2026
v0.7.0 (Sprint 7-9) - å¯è§†åŒ–å·¥å…·       ğŸ“… Q3 2026
v0.8.0 (Sprint 10+) - é«˜çº§åŠŸèƒ½         ğŸ“… Q4 2026
v0.9.0 (æœªæ¥)       - å›¢é˜Ÿåä½œ         ğŸ“… 2027+
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: 0.4.0  
**æœ€åæ›´æ–°**: 2025-10-29  
**ç»´æŠ¤**: Sqlx Team

